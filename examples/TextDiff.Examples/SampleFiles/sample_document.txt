function calculateTax(price, rate) {
    if (price <= 0) {
        return 0;
    }

    var tax = price * rate;
    return tax;
}

function formatCurrency(amount) {
    return "$" + amount.toFixed(2);
}

function processOrder(order) {
    var subtotal = order.items.reduce((sum, item) => sum + item.price, 0);
    var tax = calculateTax(subtotal, 0.08);
    var total = subtotal + tax;

    return {
        subtotal: formatCurrency(subtotal),
        tax: formatCurrency(tax),
        total: formatCurrency(total)
    };
}